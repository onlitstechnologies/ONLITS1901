DROP FUNCTION IF EXISTS GenerateSerial;
DELIMITER //
CREATE FUNCTION GenerateSerial()
RETURNS INT
BEGIN
DECLARE bcode CHAR(4);
DECLARE sl INT;
SELECT BranchCode INTO bcode FROM Branch ORDER BY BranchCode DESC LIMIT 1;
SET sl = SUBSTRING(bcode,2,3);
RETURN sl;
END;
//
DELIMITER ;
